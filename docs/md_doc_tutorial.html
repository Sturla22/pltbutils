<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PlTbUtils: Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="image1.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PlTbUtils
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">PlTbUtils is a collection of functions, procedures and components for easily creating stimuli and checking response in automatic self-checking testbenches.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_doc_tutorial.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md45">Basics</a></li>
<li class="level1"><a href="#autotoc_md46">Different kinds of check()</a></li>
<li class="level1"><a href="#autotoc_md47">Testbench with multiple testcases</a></li>
<li class="level1"><a href="#autotoc_md48">Skipping tests</a></li>
<li class="level1"><a href="#autotoc_md49">User Configuration</a></li>
<li class="level1"><a href="#autotoc_md50">Configuring Simulation Halt</a></li>
<li class="level1"><a href="#autotoc_md51">Configuring Messages for Integration Environments</a></li>
<li class="level1"><a href="#autotoc_md52">Differences between simulators</a></li>
<li class="level1"><a href="#autotoc_md53">See also</a></li>
</ul>
</div>
<div class="textblock"><p>If you are reading this markdown file on github, it has been formatted for <a href="https://sturla22.github.io/pltbutils/">doxygen</a>, which might explain some strange symbols.</p>
<h1><a class="anchor" id="autotoc_md45"></a>
Basics</h1>
<p>We will demonstrate how to use PlTbUtils by showing an example. In this example, we have a DUT (Device Under Test / Design Under Test) with the following entity.</p>
<div class="fragment"><div class="line"><span class="keywordflow">entity </span><a class="code" href="classdut__example.html">dut_example</a> <span class="keywordflow">is</span></div>
<div class="line">  <span class="keywordflow">generic</span> <span class="vhdlchar">(</span></div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classdut__example.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span>         <span class="vhdlchar">:</span> <span class="keywordtype">integer</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">8</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classdut__example.html#a57444c79aa47d2854b6d8ac1cd24cc0d">G_DISABLE_BUGS</a></span>  <span class="vhdlchar">:</span> <span class="keywordtype">integer</span> <span class="keywordflow">range</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span> <span class="keywordflow">to</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span></div>
<div class="line">  <span class="vhdlchar">)</span>;</div>
<div class="line">  <span class="keywordflow">port</span> <span class="vhdlchar">(</span></div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classdut__example.html#ae8d3e5458b0e3cd523d6461463e36fe8">clk_i</a></span>           <span class="vhdlchar">:</span> <span class="keywordflow">in</span>  <span class="keywordtype">std_logic</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classdut__example.html#ab86c7a8eec3a8327e506892977f85708">rst_i</a></span>           <span class="vhdlchar">:</span> <span class="keywordflow">in</span>  <span class="keywordtype">std_logic</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classdut__example.html#a6555780b799081e2f30567aa2267c4ad">carry_i</a></span>         <span class="vhdlchar">:</span> <span class="keywordflow">in</span>  <span class="keywordtype">std_logic</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classdut__example.html#a74e1eb7316514a25c11bd8b9226afcf8">x_i</a></span>             <span class="vhdlchar">:</span> <span class="keywordflow">in</span>  <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classdut__example.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classdut__example.html#a262bf3ac9f72fc74df66c1e920f884e0">y_i</a></span>             <span class="vhdlchar">:</span> <span class="keywordflow">in</span>  <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classdut__example.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classdut__example.html#ac90adb73f41018def90d2b1cfa56465c">sum_o</a></span>           <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classdut__example.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classdut__example.html#a62887f4668b43644ba72a4debb1f618c">carry_o</a></span>         <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span></div>
<div class="line">  <span class="vhdlchar">)</span>;</div>
<div class="line"><span class="keywordflow">end</span> <span class="keywordflow">entity</span> <a class="code" href="classdut__example.html">dut_example</a>;</div>
<div class="ttc" id="aclassdut__example_html"><div class="ttname"><a href="classdut__example.html">dut_example</a></div><div class="ttdef"><b>Definition:</b> <a href="dut__example_8vhd_source.html#l00043">dut_example.vhd:43</a></div></div>
<div class="ttc" id="aclassdut__example_html_a262bf3ac9f72fc74df66c1e920f884e0"><div class="ttname"><a href="classdut__example.html#a262bf3ac9f72fc74df66c1e920f884e0">dut_example.y_i</a></div><div class="ttdeci">in y_i std_logic_vector(   G_WIDTH- 1 downto  0) </div><div class="ttdef"><b>Definition:</b> <a href="dut__example_8vhd_source.html#l00053">dut_example.vhd:53</a></div></div>
<div class="ttc" id="aclassdut__example_html_a40f594af67d95f0eb6d8f59f8825136a"><div class="ttname"><a href="classdut__example.html#a40f594af67d95f0eb6d8f59f8825136a">dut_example.G_WIDTH</a></div><div class="ttdeci">G_WIDTH integer := 8</div><div class="ttdef"><b>Definition:</b> <a href="dut__example_8vhd_source.html#l00045">dut_example.vhd:45</a></div></div>
<div class="ttc" id="aclassdut__example_html_a57444c79aa47d2854b6d8ac1cd24cc0d"><div class="ttname"><a href="classdut__example.html#a57444c79aa47d2854b6d8ac1cd24cc0d">dut_example.G_DISABLE_BUGS</a></div><div class="ttdeci">G_DISABLE_BUGS integer  range  0 to  1:= 1</div><div class="ttdef"><b>Definition:</b> <a href="dut__example_8vhd_source.html#l00047">dut_example.vhd:47</a></div></div>
<div class="ttc" id="aclassdut__example_html_a62887f4668b43644ba72a4debb1f618c"><div class="ttname"><a href="classdut__example.html#a62887f4668b43644ba72a4debb1f618c">dut_example.carry_o</a></div><div class="ttdeci">out carry_o std_logic </div><div class="ttdef"><b>Definition:</b> <a href="dut__example_8vhd_source.html#l00056">dut_example.vhd:56</a></div></div>
<div class="ttc" id="aclassdut__example_html_a6555780b799081e2f30567aa2267c4ad"><div class="ttname"><a href="classdut__example.html#a6555780b799081e2f30567aa2267c4ad">dut_example.carry_i</a></div><div class="ttdeci">in carry_i std_logic </div><div class="ttdef"><b>Definition:</b> <a href="dut__example_8vhd_source.html#l00051">dut_example.vhd:51</a></div></div>
<div class="ttc" id="aclassdut__example_html_a74e1eb7316514a25c11bd8b9226afcf8"><div class="ttname"><a href="classdut__example.html#a74e1eb7316514a25c11bd8b9226afcf8">dut_example.x_i</a></div><div class="ttdeci">in x_i std_logic_vector(   G_WIDTH- 1 downto  0) </div><div class="ttdef"><b>Definition:</b> <a href="dut__example_8vhd_source.html#l00052">dut_example.vhd:52</a></div></div>
<div class="ttc" id="aclassdut__example_html_ab86c7a8eec3a8327e506892977f85708"><div class="ttname"><a href="classdut__example.html#ab86c7a8eec3a8327e506892977f85708">dut_example.rst_i</a></div><div class="ttdeci">in rst_i std_logic </div><div class="ttdef"><b>Definition:</b> <a href="dut__example_8vhd_source.html#l00050">dut_example.vhd:50</a></div></div>
<div class="ttc" id="aclassdut__example_html_ac90adb73f41018def90d2b1cfa56465c"><div class="ttname"><a href="classdut__example.html#ac90adb73f41018def90d2b1cfa56465c">dut_example.sum_o</a></div><div class="ttdeci">out sum_o std_logic_vector(   G_WIDTH- 1 downto  0) </div><div class="ttdef"><b>Definition:</b> <a href="dut__example_8vhd_source.html#l00054">dut_example.vhd:54</a></div></div>
<div class="ttc" id="aclassdut__example_html_ae8d3e5458b0e3cd523d6461463e36fe8"><div class="ttname"><a href="classdut__example.html#ae8d3e5458b0e3cd523d6461463e36fe8">dut_example.clk_i</a></div><div class="ttdeci">in clk_i std_logic </div><div class="ttdef"><b>Definition:</b> <a href="dut__example_8vhd_source.html#l00049">dut_example.vhd:49</a></div></div>
</div><!-- fragment --><p>As you can see, it has a clock- and a reset input port (clk_i and rst_i), three other input ports (x_i, y_i, and carry_i), and two output ports (sum_o and carry_o). There is also a generic, G_WIDTH, which sets the number of bits in x_i, y_i and sum_o. The second generic, G_DISABLE_BUGS, is very unusual in real designs, but it is useful in this example. We will reveal the purpose of this strange generic later, although some may already be able to guess what it is for.</p>
<p>To verify this DUT, we want the testbench to apply different stimuli to the input ports, and check the response of the output ports. The following code is an example of such a testbench. We will first show all of the code, and then explain parts of it.</p>
<div class="fragment"><div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="vhdlkeyword">library </span><span class="keywordflow">ieee</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>ieee.std_logic_1164.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>ieee.numeric_std.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classtxt__util.html">txt_util</a>.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classpltbutils__func__pkg.html">pltbutils_func_pkg</a>.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classpltbutils__comp__pkg.html">pltbutils_comp_pkg</a>.<span class="keywordflow">all</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">entity </span><a class="code" href="classtb__example1.html">tb_example1</a> <span class="keywordflow">is</span></div>
<div class="line">  <span class="keywordflow">generic</span> <span class="vhdlchar">(</span></div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span>             <span class="vhdlchar">:</span> <span class="keywordtype">integer</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">8</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1.html#a66dfd6a1fb98eee0a6c1d04df77757ce">G_CLK_PERIOD</a></span>        <span class="vhdlchar">:</span> <span class="keywordtype">time</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">10</span> <span class="vhdlchar">ns</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1.html#ac96c2f9ed656335145b7b861130cd939">G_DISABLE_BUGS</a></span>      <span class="vhdlchar">:</span> <span class="keywordtype">integer</span> <span class="keywordflow">range</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span> <span class="keywordflow">to</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span></div>
<div class="line">  <span class="vhdlchar">)</span>;</div>
<div class="line"><span class="keywordflow">end</span> <span class="keywordflow">entity</span> <a class="code" href="classtb__example1.html">tb_example1</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">architecture</span> <a class="code" href="classtb__example1_1_1bhv.html">bhv</a> <span class="keywordflow">of</span> <a class="code" href="classtb__example1.html">tb_example1</a> <span class="keywordflow">is</span></div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span>          <span class="vhdlchar">:</span> <span class="vhdlchar">pltbs_t</span> <span class="vhdlchar">:=</span> <span class="vhdlchar">C_PLTBS_INIT</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">  -- DUT stimuli and response signals</span></div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">clk</a></span>            <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#ab48fd8de36861a6c9099cb6a43508afa">rst</a></span>            <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a9b1493f36b43e43f199d5514aad3c946">carry_in</a></span>       <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span>              <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtb__example1.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a70e68dd99e9bab52dfa4c3bddb370bc9">y</a></span>              <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtb__example1.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a388b8e9c13a4124f0f85b3661bd89f37">sum</a></span>            <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtb__example1.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a5d1b07695d6ab17e645de16e5bf5f1ae">carry_out</a></span>      <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"> </div>
<div class="line"><span class="vhdlkeyword">begin</span></div>
<div class="line"> </div>
<div class="line">  dut0 : <span class="keywordflow">entity</span> work.<a class="code" href="classdut__example.html">dut_example</a></div>
<div class="line">    <span class="keywordflow">generic</span> <span class="keywordflow">map</span> (</div>
<div class="line">      <a class="code" href="classdut__example.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a>           =&gt; <a class="code" href="classtb__example1.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#a57444c79aa47d2854b6d8ac1cd24cc0d">G_DISABLE_BUGS</a>    =&gt; <a class="code" href="classtb__example1.html#ac96c2f9ed656335145b7b861130cd939">G_DISABLE_BUGS</a></div>
<div class="line">    <span class="vhdlchar">)</span></div>
<div class="line">    <span class="keywordflow">port</span> <span class="keywordflow">map</span> (</div>
<div class="line">      <a class="code" href="classdut__example.html#ae8d3e5458b0e3cd523d6461463e36fe8">clk_i</a>             =&gt; <a class="code" href="classtb__example1_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">clk</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#ab86c7a8eec3a8327e506892977f85708">rst_i</a>             =&gt; <a class="code" href="classtb__example1_1_1bhv.html#ab48fd8de36861a6c9099cb6a43508afa">rst</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#a6555780b799081e2f30567aa2267c4ad">carry_i</a>           =&gt; <a class="code" href="classtb__example1_1_1bhv.html#a9b1493f36b43e43f199d5514aad3c946">carry_in</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#a74e1eb7316514a25c11bd8b9226afcf8">x_i</a>               =&gt; <a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#a262bf3ac9f72fc74df66c1e920f884e0">y_i</a>               =&gt; <a class="code" href="classtb__example1_1_1bhv.html#a70e68dd99e9bab52dfa4c3bddb370bc9">y</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#ac90adb73f41018def90d2b1cfa56465c">sum_o</a>             =&gt; <a class="code" href="classtb__example1_1_1bhv.html#a388b8e9c13a4124f0f85b3661bd89f37">sum</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#a62887f4668b43644ba72a4debb1f618c">carry_o</a>           =&gt; <a class="code" href="classtb__example1_1_1bhv.html#a5d1b07695d6ab17e645de16e5bf5f1ae">carry_out</a></div>
<div class="line">    <span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">  <a class="code" href="classtb__example1_1_1bhv.html#a27e5555299c85e4788d9ab27ae43f077">clkgen0</a> : <a class="code" href="classpltbutils__clkgen.html">pltbutils_clkgen</a></div>
<div class="line">    <span class="keywordflow">generic</span> <span class="keywordflow">map</span>(</div>
<div class="line">      <a class="code" href="classpltbutils__clkgen.html#adbf8952b6b4cd64a36b8cc71101d8fe4">G_PERIOD</a>          =&gt; <a class="code" href="classtb__example1.html#a66dfd6a1fb98eee0a6c1d04df77757ce">G_CLK_PERIOD</a></div>
<div class="line">    <span class="vhdlchar">)</span></div>
<div class="line">    <span class="keywordflow">port</span> <span class="keywordflow">map</span>(</div>
<div class="line">      <a class="code" href="classpltbutils__clkgen.html#a4361aad7a5ee44ae149501699b912d30">clk_o</a>             =&gt; <a class="code" href="classtb__example1_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">clk</a>,</div>
<div class="line">      <a class="code" href="classpltbutils__clkgen.html#a845c8ecbf840431d25fb75580abe9746">stop_sim_i</a>        =&gt; pltbs.stop_sim</div>
<div class="line">    <span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">  p_tc1 : <span class="keywordflow">process</span></div>
<div class="line">    <span class="keywordflow">variable</span> <span class="vhdlchar">pltbv</span>  <span class="vhdlchar">:</span> <span class="vhdlchar">pltbv_t</span> <span class="vhdlchar">:=</span> <span class="vhdlchar">C_PLTBV_INIT</span>;</div>
<div class="line"><span class="vhdlkeyword">  begin</span></div>
<div class="line">    <span class="vhdlchar">startsim</span><span class="vhdlchar">(</span><span class="keyword">&quot;tc1&quot;</span><span class="vhdlchar">,</span> <span class="keyword">&quot;&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#ab48fd8de36861a6c9099cb6a43508afa">rst</a></span>         <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a9b1493f36b43e43f199d5514aad3c946">carry_in</a></span>    <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span>           <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">(</span><span class="keywordflow">others</span> <span class="vhdlchar">=</span><span class="vhdlchar">&gt;</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a70e68dd99e9bab52dfa4c3bddb370bc9">y</a></span>           <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">(</span><span class="keywordflow">others</span> <span class="vhdlchar">=</span><span class="vhdlchar">&gt;</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="vhdlchar">starttest</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">,</span> <span class="keyword">&quot;Reset test&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">waitclks</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">clk</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Sum during reset&quot;</span><span class="vhdlchar">,</span>       <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a388b8e9c13a4124f0f85b3661bd89f37">sum</a></span><span class="vhdlchar">,</span>         <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Carry out during reset&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a5d1b07695d6ab17e645de16e5bf5f1ae">carry_out</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#ab48fd8de36861a6c9099cb6a43508afa">rst</a></span>         <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar">endtest</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="vhdlchar">starttest</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="keyword">&quot;Simple sum test&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a9b1493f36b43e43f199d5514aad3c946">carry_in</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a70e68dd99e9bab52dfa4c3bddb370bc9">y</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">waitclks</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">clk</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Sum&quot;</span><span class="vhdlchar">,</span>       <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a388b8e9c13a4124f0f85b3661bd89f37">sum</a></span><span class="vhdlchar">,</span>         <span class="vhdllogic"></span><span class="vhdllogic">3</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Carry out&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a5d1b07695d6ab17e645de16e5bf5f1ae">carry_out</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">endtest</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="vhdlchar">starttest</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">3</span><span class="vhdlchar">,</span> <span class="keyword">&quot;Simple carry in test&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">print</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtb__example1.html#ac96c2f9ed656335145b7b861130cd939">G_DISABLE_BUGS</a></span><span class="vhdlchar">=</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">,</span> <span class="keyword">&quot;Bug here somewhere&quot;</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a9b1493f36b43e43f199d5514aad3c946">carry_in</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a70e68dd99e9bab52dfa4c3bddb370bc9">y</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">waitclks</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">clk</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Sum&quot;</span><span class="vhdlchar">,</span>       <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a388b8e9c13a4124f0f85b3661bd89f37">sum</a></span><span class="vhdlchar">,</span>         <span class="vhdllogic"></span><span class="vhdllogic">4</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Carry out&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a5d1b07695d6ab17e645de16e5bf5f1ae">carry_out</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">print</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtb__example1.html#ac96c2f9ed656335145b7b861130cd939">G_DISABLE_BUGS</a></span><span class="vhdlchar">=</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">,</span> <span class="keyword">&quot;&quot;</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">endtest</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="vhdlchar">starttest</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">4</span><span class="vhdlchar">,</span> <span class="keyword">&quot;Simple carry out test&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a9b1493f36b43e43f199d5514aad3c946">carry_in</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">*</span><span class="vhdlchar">*</span><span class="vhdlchar"><a class="code" href="classtb__example1.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a70e68dd99e9bab52dfa4c3bddb370bc9">y</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">waitclks</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">clk</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Sum&quot;</span><span class="vhdlchar">,</span>       <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a388b8e9c13a4124f0f85b3661bd89f37">sum</a></span><span class="vhdlchar">,</span>         <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Carry out&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#a5d1b07695d6ab17e645de16e5bf5f1ae">carry_out</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">endtest</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="vhdlchar">endsim</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">true</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="keywordflow">wait</span>;</div>
<div class="line">  <span class="keywordflow">end</span> <span class="keywordflow">process</span> <span class="vhdlchar">p_tc1</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">end</span> <span class="keywordflow">architecture</span> <a class="code" href="classtb__example1_1_1bhv.html">bhv</a>;</div>
<div class="ttc" id="aclasspltbutils__clkgen_html"><div class="ttname"><a href="classpltbutils__clkgen.html">pltbutils_clkgen</a></div><div class="ttdoc">Creates a clock for use in a testbench.</div><div class="ttdef"><b>Definition:</b> <a href="pltbutils__comp_8vhd_source.html#l00062">pltbutils_comp.vhd:62</a></div></div>
<div class="ttc" id="aclasspltbutils__clkgen_html_a4361aad7a5ee44ae149501699b912d30"><div class="ttname"><a href="classpltbutils__clkgen.html#a4361aad7a5ee44ae149501699b912d30">pltbutils_clkgen.clk_o</a></div><div class="ttdeci">out clk_o std_logic </div><div class="ttdoc">Clock output.</div><div class="ttdef"><b>Definition:</b> <a href="pltbutils__comp_8vhd_source.html#l00068">pltbutils_comp.vhd:68</a></div></div>
<div class="ttc" id="aclasspltbutils__clkgen_html_a845c8ecbf840431d25fb75580abe9746"><div class="ttname"><a href="classpltbutils__clkgen.html#a845c8ecbf840431d25fb75580abe9746">pltbutils_clkgen.stop_sim_i</a></div><div class="ttdeci">in stop_sim_i std_logic </div><div class="ttdoc">Stops the clock when '1'.</div><div class="ttdef"><b>Definition:</b> <a href="pltbutils__comp_8vhd_source.html#l00071">pltbutils_comp.vhd:71</a></div></div>
<div class="ttc" id="aclasspltbutils__clkgen_html_adbf8952b6b4cd64a36b8cc71101d8fe4"><div class="ttname"><a href="classpltbutils__clkgen.html#adbf8952b6b4cd64a36b8cc71101d8fe4">pltbutils_clkgen.G_PERIOD</a></div><div class="ttdeci">G_PERIOD time :=  10 ns</div><div class="ttdoc">Clock period.</div><div class="ttdef"><b>Definition:</b> <a href="pltbutils__comp_8vhd_source.html#l00064">pltbutils_comp.vhd:64</a></div></div>
<div class="ttc" id="aclasspltbutils__comp__pkg_html"><div class="ttname"><a href="classpltbutils__comp__pkg.html">pltbutils_comp_pkg</a></div><div class="ttdoc">See pltbutils_comp.vhd for a description of the components.</div><div class="ttdef"><b>Definition:</b> <a href="pltbutils__comp__pkg_8vhd_source.html#l00044">pltbutils_comp_pkg.vhd:44</a></div></div>
<div class="ttc" id="aclasspltbutils__func__pkg_html"><div class="ttname"><a href="classpltbutils__func__pkg.html">pltbutils_func_pkg</a></div><div class="ttdoc">This package defines fuctions and procedures for controlling stimuli to a DUT and checking response.</div><div class="ttdef"><b>Definition:</b> <a href="pltbutils__func__pkg_8vhd_source.html#l00046">pltbutils_func_pkg.vhd:46</a></div></div>
<div class="ttc" id="aclasstb__example1_1_1bhv_html"><div class="ttname"><a href="classtb__example1_1_1bhv.html">tb_example1.bhv</a></div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00053">tb_example1.vhd:53</a></div></div>
<div class="ttc" id="aclasstb__example1_1_1bhv_html_a1bc5c1a0be5baa1956f86292646908ad"><div class="ttname"><a href="classtb__example1_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">tb_example1.bhv.clk</a></div><div class="ttdeci">std_logic clk</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00060">tb_example1.vhd:60</a></div></div>
<div class="ttc" id="aclasstb__example1_1_1bhv_html_a27e5555299c85e4788d9ab27ae43f077"><div class="ttname"><a href="classtb__example1_1_1bhv.html#a27e5555299c85e4788d9ab27ae43f077">clkgen0</a></div><div class="ttdeci">pltbutils_clkgen clkgen0clkgen0</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00092">tb_example1.vhd:92</a></div></div>
<div class="ttc" id="aclasstb__example1_1_1bhv_html_a388b8e9c13a4124f0f85b3661bd89f37"><div class="ttname"><a href="classtb__example1_1_1bhv.html#a388b8e9c13a4124f0f85b3661bd89f37">tb_example1.bhv.sum</a></div><div class="ttdeci">std_logic_vector(   G_WIDTH- 1 downto  0) sum</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00065">tb_example1.vhd:65</a></div></div>
<div class="ttc" id="aclasstb__example1_1_1bhv_html_a5d1b07695d6ab17e645de16e5bf5f1ae"><div class="ttname"><a href="classtb__example1_1_1bhv.html#a5d1b07695d6ab17e645de16e5bf5f1ae">tb_example1.bhv.carry_out</a></div><div class="ttdeci">std_logic carry_out</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00066">tb_example1.vhd:66</a></div></div>
<div class="ttc" id="aclasstb__example1_1_1bhv_html_a70e68dd99e9bab52dfa4c3bddb370bc9"><div class="ttname"><a href="classtb__example1_1_1bhv.html#a70e68dd99e9bab52dfa4c3bddb370bc9">tb_example1.bhv.y</a></div><div class="ttdeci">std_logic_vector(   G_WIDTH- 1 downto  0) y</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00064">tb_example1.vhd:64</a></div></div>
<div class="ttc" id="aclasstb__example1_1_1bhv_html_a9b1493f36b43e43f199d5514aad3c946"><div class="ttname"><a href="classtb__example1_1_1bhv.html#a9b1493f36b43e43f199d5514aad3c946">tb_example1.bhv.carry_in</a></div><div class="ttdeci">std_logic carry_in</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00062">tb_example1.vhd:62</a></div></div>
<div class="ttc" id="aclasstb__example1_1_1bhv_html_aaad491fafb00bd3f2eee8cc0de052dbb"><div class="ttname"><a href="classtb__example1_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">tb_example1.bhv.pltbs</a></div><div class="ttdeci">pltbs_t :=   C_PLTBS_INIT pltbs</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00057">tb_example1.vhd:57</a></div></div>
<div class="ttc" id="aclasstb__example1_1_1bhv_html_ab48fd8de36861a6c9099cb6a43508afa"><div class="ttname"><a href="classtb__example1_1_1bhv.html#ab48fd8de36861a6c9099cb6a43508afa">tb_example1.bhv.rst</a></div><div class="ttdeci">std_logic rst</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00061">tb_example1.vhd:61</a></div></div>
<div class="ttc" id="aclasstb__example1_1_1bhv_html_adad9fdabcb16d6868ba56a9004f85e75"><div class="ttname"><a href="classtb__example1_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">tb_example1.bhv.x</a></div><div class="ttdeci">std_logic_vector(   G_WIDTH- 1 downto  0) x</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00063">tb_example1.vhd:63</a></div></div>
<div class="ttc" id="aclasstb__example1_html"><div class="ttname"><a href="classtb__example1.html">tb_example1</a></div><div class="ttdoc">This is an example which demonstrates how PlTbUtils can be used.</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00045">tb_example1.vhd:45</a></div></div>
<div class="ttc" id="aclasstb__example1_html_a40f594af67d95f0eb6d8f59f8825136a"><div class="ttname"><a href="classtb__example1.html#a40f594af67d95f0eb6d8f59f8825136a">tb_example1.G_WIDTH</a></div><div class="ttdeci">G_WIDTH integer := 8</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00047">tb_example1.vhd:47</a></div></div>
<div class="ttc" id="aclasstb__example1_html_a66dfd6a1fb98eee0a6c1d04df77757ce"><div class="ttname"><a href="classtb__example1.html#a66dfd6a1fb98eee0a6c1d04df77757ce">tb_example1.G_CLK_PERIOD</a></div><div class="ttdeci">G_CLK_PERIOD time :=  10 ns</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00048">tb_example1.vhd:48</a></div></div>
<div class="ttc" id="aclasstb__example1_html_ac96c2f9ed656335145b7b861130cd939"><div class="ttname"><a href="classtb__example1.html#ac96c2f9ed656335145b7b861130cd939">tb_example1.G_DISABLE_BUGS</a></div><div class="ttdeci">G_DISABLE_BUGS integer  range  0 to  1:= 0</div><div class="ttdef"><b>Definition:</b> <a href="tb__example1_8vhd_source.html#l00050">tb_example1.vhd:50</a></div></div>
<div class="ttc" id="aclasstxt__util_html"><div class="ttname"><a href="classtxt__util.html">txt_util</a></div><div class="ttdoc">Defines useful functions an procedures for text handling text in VHDL.</div><div class="ttdef"><b>Definition:</b> <a href="txt__util_8vhd_source.html#l00031">txt_util.vhd:31</a></div></div>
</div><!-- fragment --><p>As the testbench example shows, the following packages are needed (in addition to the usual std_logic_1164, etc): </p><div class="fragment"><div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classtxt__util.html">txt_util</a>.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classpltbutils__func__pkg.html">pltbutils_func_pkg</a>.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classpltbutils__comp__pkg.html">pltbutils_comp_pkg</a>.<span class="keywordflow">all</span>;</div>
</div><!-- fragment --><p><a class="el" href="classtxt__util.html" title="Defines useful functions an procedures for text handling text in VHDL.">txt_util</a> contains functions and procedures for handling strings.</p>
<p><a class="el" href="classpltbutils__func__pkg.html" title="This package defines fuctions and procedures for controlling stimuli to a DUT and checking response.">pltbutils_func_pkg</a> contains type definitions, functions and procedures for controlling stimuli and checking response.</p>
<p><a class="el" href="classpltbutils__comp__pkg.html" title="See pltbutils_comp.vhd for a description of the components.">pltbutils_comp_pkg</a> contains component declarations for testbench components.</p>
<p>PlTbUtils uses a variable called <a class="el" href="classpltbutils__func__pkg.html#a028adefc22f3d942030af00456080741">pltbv</a>, and a signal called <a class="el" href="classpltbutils__func__pkg.html#abc3530760ee1451d881f8bb2e4b4d0cf">pltbs</a>, for controlling the simulation and keeping track of status. The pltbs signal is useful for viewing in the simulator's waveform window. pltbs is a record containing a number of members which show various information. Expand pltbs in the simulator's waveform window to expose the members. To make it prettier, you can make use of ModelSim's Combine Signals feature. Each member of the pltbs record can be set to be its own Combined Signal, see the waveform images in this document. Other simulators usually have similar features.</p>
<p>The DUT is instantiated in the testbench, as well as a clock generator component from PlTbUtils.</p>
<p>There is also a testcase process, which feeds the DUT with stimuli, and checks the results.</p>
<p>The testcase process starts with calling the procedure <a class="el" href="classpltbutils__func__pkg.html#ae269ab74a28c6a85a7aace494d45b4c1">startsim</a>. This procedure initializes pltbv and pltbs, and outputs a message to the transcript and to the waveform window to inform that the simulation now starts. The first argument to startsim is the name of the testcase. The second argument is an empty vector in this example. The purpose of this argument will be explained later.</p>
<p>The last arguments of startsim, and to many other procedures in PlTbUtils, are pltbv and pltbs.</p>
<p>After initiating stimuli to the DUT, we call the procedure <a class="el" href="classpltbutils__func__pkg.html#aba96c019266996dd1ae9b87688f48e82">starttest</a> with the number and name for the first test. starttest prints the test number and test name to the transcript and to the waveform window, and updates pltbv and pltbs.</p>
<p>Then we need to wait until the DUT has reacted to the stimuli. We do this by calling the procedure <a class="el" href="classpltbutils__func__pkg.html#a6414f52b0252c65e1ad5034682dac68e">waitclks</a>, which waits a specified number of cycles of the specified clock.</p>
<p>After this, we start checking the results, by examining the outputs from the DUT. To do this, we use the <a class="el" href="classpltbutils__func__pkg.html#a0b8ddc930fb2c0e7956bad43276f9137">check</a> procedure. The first argument is a text string that specifies what we check, the second argument is the signal or variable that we want to examine, and the third is the expected value of the signal or variable. If the examined signal holds the expected value, nothing is printed. But if the value is incorrect, the string in the first argument is printed, together with the actual and expected values of the signal. The number and name of the test (as specified with starttest) is also printed. PlTbUtils' check counter is incremented for every check procedure call, and the error counter is incremented in case of error.</p>
<p>After the test, we call <a class="el" href="classpltbutils__func__pkg.html#a5e05122da79b25bee999591567d81dd7">endtest</a>.</p>
<p>We make a number of different tests by calling starttest, setting stimuli, waiting for the DUT to react with waitclks or some other means, and checking the outputs with the check procedure, and calling endtest.</p>
<p>Finally, we call the <a class="el" href="classpltbutils__func__pkg.html#a352cf3d18d0f23464b7bf1b9a08cbf1f">endsim</a> procedure, which prints an end-of-simulation message to the transcript, and presents the results, including a SUCCESS or FAIL message.</p>
<p>The start-of-simulation message, end-of-simulation message, and SUCCESS/FAIL messages have a unique formatting with three dashes or asterisks before and after the message. This make them easy to search for by scripts, to simplify collection of simulation status of regression tests with a lot of different simulations.</p>
<p>Try it out in your simulator! The pltbutils files that need to be compiled are located in <a class="el" href="dir_9ae5ed663d8341fbdcde76c8e67e15c9.html">src/vhdl</a>/, and they are listed in compile order in <a class="el" href="pltbutils__files_8lst.html">pltbutils_files.lst</a> . The example DUT file is located in <a class="el" href="dir_3653cfd438a704b4779b90cab61a6e78.html">examples/vhdl/rtl_example</a>/, and the example testbench files are located in <a class="el" href="dir_0704b909d46348f9be61fcda9adb1dbb.html">examples/vhdl/tb_example1</a>/. The files are listed in compile order in example_dut.lst and <a class="el" href="tb__example1__files_8lst.html">tb_example1_files.lst</a> .</p>
<p>If you are a ModelSim user, there are .do files available in <a class="el" href="dir_1794685c486a75baca30b2a12598bb97.html">sim/modelsim_tb_example1/run</a>/ . To use them, start Start ModelSim, and in the ModelSim Gui select the menu item File-&gt;Change directory... . Navigate to the PlTbUtils directory <code>sim/modelsim\_tb\_example1/run/</code> and click Ok. Then, in the transcript window, type</p>
<div class="fragment"><div class="line">do run.do</div>
</div><!-- fragment --><p>The simulation will start, and the transcript from the simulation looks as follows.</p>
<div class="image">
<img src="image4.png" alt=""/>
</div>
<p>The transcript says that one error has been found at 55 ns, in test 3; Simple carry in test.</p>
<p>The waveform window looks like this.</p>
<div class="image">
<img src="image3.png" alt=""/>
</div>
<p>Here we can see the error detected at the point in time where the error counter increments from 0 to 1. Again, we can that the error is found in test 3, the Simple carry in test.</p>
<p>Have a look at the DUT code in <a class="el" href="dut__example_8vhd.html" title="PlTbUtils Example DUT.">examples/vhdl/rtl_example/dut_example.vhd</a> . It looks as follows.</p>
<div class="fragment"><div class="line"><span class="vhdlchar">x</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">resize</span><span class="vhdlchar">(</span><span class="keywordtype">unsigned</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classdut__example.html#a74e1eb7316514a25c11bd8b9226afcf8">x_i</a></span><span class="vhdlchar">)</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classdut__example.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">+</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">)</span>;</div>
<div class="line"><span class="vhdlchar">y</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">resize</span><span class="vhdlchar">(</span><span class="keywordtype">unsigned</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classdut__example.html#a262bf3ac9f72fc74df66c1e920f884e0">y_i</a></span><span class="vhdlchar">)</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classdut__example.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">+</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">)</span>;</div>
<div class="line"><span class="vhdlchar">c</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">resize</span><span class="vhdlchar">(</span><span class="keywordtype">unsigned</span><span class="vhdlchar">(</span><span class="keywordtype">std_logic_vector</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">(</span><span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span> <span class="vhdlchar">&amp;</span> <span class="vhdlchar"><a class="code" href="classdut__example.html#a6555780b799081e2f30567aa2267c4ad">carry_i</a></span><span class="vhdlchar">)</span><span class="vhdlchar">)</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classdut__example.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">+</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">p_sum : <span class="keywordflow">process</span>(<a class="code" href="classdut__example.html#ae8d3e5458b0e3cd523d6461463e36fe8">clk_i</a>)</div>
<div class="line"><span class="vhdlkeyword">begin</span></div>
<div class="line">  <span class="keywordflow">if</span> <span class="vhdlchar">rising_edge</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classdut__example.html#ae8d3e5458b0e3cd523d6461463e36fe8">clk_i</a></span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line">    <span class="keywordflow">if</span> <span class="vhdlchar"><a class="code" href="classdut__example.html#ab86c7a8eec3a8327e506892977f85708">rst_i</a></span> <span class="vhdlchar">=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span> <span class="keywordflow">then</span></div>
<div class="line">      <span class="vhdlchar">sum</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">(</span><span class="keywordflow">others</span> <span class="vhdlchar">=</span><span class="vhdlchar">&gt;</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">      <span class="keywordflow">if</span> <span class="vhdlchar"><a class="code" href="classdut__example.html#a57444c79aa47d2854b6d8ac1cd24cc0d">G_DISABLE_BUGS</a></span> <span class="vhdlchar">=</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">then</span></div>
<div class="line">        <span class="vhdlchar">sum</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">x</span> <span class="vhdlchar">+</span> <span class="vhdlchar">y</span> <span class="vhdlchar">+</span> <span class="vhdlchar">c</span>;</div>
<div class="line">      <span class="keywordflow">else</span></div>
<div class="line">        <span class="vhdlchar">sum</span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">x</span> <span class="vhdlchar">+</span> <span class="vhdlchar">y</span>;</div>
<div class="line">      <span class="keywordflow">end</span> <span class="keywordflow">if</span>;</div>
<div class="line">    <span class="keywordflow">end</span> <span class="keywordflow">if</span>;</div>
<div class="line">  <span class="keywordflow">end</span> <span class="keywordflow">if</span>;</div>
<div class="line"><span class="keywordflow">end</span> <span class="keywordflow">process</span>;</div>
</div><!-- fragment --><p>The code really looks suspicious. If the generic G_DISABLE_BUGS is not one, the carry input is not added to the sum. But we need the carry input to be added to the sum!</p>
<p>A simple way to disable this bug, is to set the generic G_DISABLE_BUGS to one. In this case, this can be done very easily, without any modifying of the code.</p>
<p>In the ModelSim transcript window, type</p>
<div class="fragment"><div class="line">do run_bugfixed.do</div>
</div><!-- fragment --><p>This will run the test again, but now with the generic G_DISABLE_BUGS set to 1.</p>
<p>The transcript and waveform windows will now look like the following images.</p>
<div class="image">
<img src="image5.png" alt=""/>
</div>
<div class="image">
<img src="image6.png" alt=""/>
</div>
<p>This tutorial has shown some of the available procedures and testbench components in PlTbUtils. For a complete list, see the reference section.</p>
<p>When you want to make your own testbenches with PlTbUtils, have a look at the template files in <a class="el" href="dir_de3c39578b6cba41d12670d7873c35ee.html">templates/vhdl/template1</a>/ .</p>
<h1><a class="anchor" id="autotoc_md46"></a>
Different kinds of check()</h1>
<p>There are a number of overloaded <a class="el" href="classpltbutils__func__pkg.html#a0b8ddc930fb2c0e7956bad43276f9137">check</a> procedures for different VHDL types, e.g. std_logic, std_logic_vector, unsigned, signed, integer, boolean, time, etc. See the <a class="el" href="md_doc_reference.html">reference</a> section for a complete list. The check procedures checks equality, i.e. that a signal or variable has an expected value. They have the form</p>
<div class="fragment"><div class="line"><span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="vhdlchar">rpt</span><span class="vhdlchar">,</span> <span class="vhdlchar">actual</span><span class="vhdlchar">,</span> <span class="vhdlchar">expected</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbs</span><span class="vhdlchar">)</span></div>
</div><!-- fragment --><p>where rpt is the string message with info on what is being checked, actual is the signal or variable to check, and expected is the expected value. If the check fails, rpt is printed togher with actual and expected valued. There is no need to include the expected value in the rpt string, because it is printed anyway.</p>
<p>The is no support for comparisons other than equality, such as greater than, or not equal. But there is one check procedure that can be used for composing your own expression:</p>
<div class="fragment"><div class="line"><span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="vhdlchar">rpt</span><span class="vhdlchar">,</span> <span class="vhdlchar">expr</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbs</span><span class="vhdlchar">)</span></div>
</div><!-- fragment --><p>Replace expr with your own expression.</p>
<div class="fragment"><div class="line"><span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Counter after data burst&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">cnt_o</span> <span class="vhdlchar">&gt;</span> <span class="vhdllogic"></span><span class="vhdllogic">10</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbs</span><span class="vhdlchar">)</span>;</div>
</div><!-- fragment --><p>Note that if the test fails, the actual and expected values will not be printed (because this check procedure does not get any information on actual and expected value. You may include that information in the rpt message if you want to.</p>
<div class="fragment"><div class="line"><span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Counter after data burst: &quot;</span> <span class="vhdlchar">&amp;</span> <span class="vhdlchar">str</span><span class="vhdlchar">(</span><span class="vhdlchar">cnt_o</span><span class="vhdlchar">)</span> <span class="vhdlchar">&amp;</span> <span class="keyword">&quot; expected &gt; 10&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">cnt_o</span> <span class="vhdlchar">&gt;</span> <span class="vhdllogic"></span><span class="vhdllogic">10</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbs</span><span class="vhdlchar">)</span>;</div>
</div><!-- fragment --><p>You can create specialized check procedures in a package file of your own. Your package file should begin with</p>
<div class="fragment"><div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classtxt__util.html">txt_util</a>.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classpltbutils__func__pkg.html">pltbutils_func_pkg</a>.<span class="keywordflow">all</span>;</div>
</div><!-- fragment --><p>and your own check procedure should call</p>
<div class="fragment"><div class="line"><span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="vhdlchar">rpt</span><span class="vhdlchar">,</span> <span class="vhdlchar">expr</span><span class="vhdlchar">,</span> <span class="vhdlchar">actual</span><span class="vhdlchar">,</span> <span class="vhdlchar">expected</span><span class="vhdlchar">,</span> <span class="vhdlchar">mask</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbs</span><span class="vhdlchar">)</span></div>
</div><!-- fragment --><p>where actual, expected and mask are strings.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><span class="comment">-- check greater than, unsigned</span></div>
<div class="line"><span class="keywordflow">procedure</span> check_gt(</div>
<div class="line">  <span class="keywordflow">constant</span> rpt                : <span class="keywordflow">in</span>    <span class="keywordtype">string</span>;</div>
<div class="line">  <span class="keywordflow">constant</span> actual             : <span class="keywordflow">in</span>    <span class="keywordtype">unsigned</span>;</div>
<div class="line">  <span class="keywordflow">constant</span> expected           : <span class="keywordflow">in</span>    <span class="keywordtype">unsigned</span>;</div>
<div class="line">  <span class="keywordflow">variable</span> pltbv              : <span class="keywordflow">inout</span> pltbv_t;</div>
<div class="line">  <span class="keywordflow">signal</span>   pltbs              : <span class="keywordflow">out</span>   pltbs_t</div>
<div class="line">) <span class="keywordflow">is</span></div>
<div class="line"><span class="vhdlkeyword">begin</span></div>
<div class="line">  <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="vhdlchar">rpt</span><span class="vhdlchar">,</span> <span class="vhdlchar">actual</span> <span class="vhdlchar">&gt;</span> <span class="vhdlchar">expected</span><span class="vhdlchar">,</span> <span class="vhdlchar">str</span><span class="vhdlchar">(</span><span class="vhdlchar">actual</span><span class="vhdlchar">)</span><span class="vhdlchar">,</span> <span class="keyword">&quot;&gt;&quot;</span> <span class="vhdlchar">&amp;</span> <span class="vhdlchar">str</span><span class="vhdlchar">(</span><span class="vhdlchar">expected</span><span class="vhdlchar">)</span><span class="vhdlchar">,</span> <span class="keyword">&quot;&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbs</span><span class="vhdlchar">)</span>;</div>
<div class="line"><span class="keywordflow">end</span> <span class="keywordflow">procedure</span> check_gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md47"></a>
Testbench with multiple testcases</h1>
<p>In some cases, it is more convenient to not include the testcase process in the testbench top. Instead, we can put the testcase process in its own VHDL component. Then we can have alternative architectures for this component, with different testcase processes.</p>
<p>This is practial for large testbenches with a lot of testbench components and other code, with a requirement for multiple testcases. Then we don't have to write a new testbench for each testcase.</p>
<p>The following is an example of such a testbench.</p>
<div class="fragment"><div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="vhdlkeyword">library </span><span class="keywordflow">ieee</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>ieee.std_logic_1164.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classpltbutils__func__pkg.html">pltbutils_func_pkg</a>.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classpltbutils__comp__pkg.html">pltbutils_comp_pkg</a>.<span class="keywordflow">all</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">entity </span><a class="code" href="classtb__example2.html">tb_example2</a> <span class="keywordflow">is</span></div>
<div class="line">  <span class="keywordflow">generic</span> <span class="vhdlchar">(</span></div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span>             <span class="vhdlchar">:</span> <span class="keywordtype">integer</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">8</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example2.html#a66dfd6a1fb98eee0a6c1d04df77757ce">G_CLK_PERIOD</a></span>        <span class="vhdlchar">:</span> <span class="keywordtype">time</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">10</span> <span class="vhdlchar">ns</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtb__example2.html#ac96c2f9ed656335145b7b861130cd939">G_DISABLE_BUGS</a></span>      <span class="vhdlchar">:</span> <span class="keywordtype">integer</span> <span class="keywordflow">range</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span> <span class="keywordflow">to</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span></div>
<div class="line">  <span class="vhdlchar">)</span>;</div>
<div class="line"><span class="keywordflow">end</span> <span class="keywordflow">entity</span> <a class="code" href="classtb__example2.html">tb_example2</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">architecture</span> <a class="code" href="classtb__example2_1_1bhv.html">bhv</a> <span class="keywordflow">of</span> <a class="code" href="classtb__example2.html">tb_example2</a> <span class="keywordflow">is</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">  -- Simulation status- and control signals</span></div>
<div class="line"><span class="comment">  -- for accessing .stop_sim and for viewing in waveform window</span></div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example2_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a></span>          <span class="vhdlchar">:</span> <span class="vhdlchar">pltbs_t</span> <span class="vhdlchar">:=</span> <span class="vhdlchar">C_PLTBS_INIT</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">  -- DUT stimuli and response signals</span></div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example2_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">clk</a></span>            <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example2_1_1bhv.html#ab48fd8de36861a6c9099cb6a43508afa">rst</a></span>            <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example2_1_1bhv.html#a9b1493f36b43e43f199d5514aad3c946">carry_in</a></span>       <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example2_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a></span>              <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtb__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example2_1_1bhv.html#a70e68dd99e9bab52dfa4c3bddb370bc9">y</a></span>              <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtb__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example2_1_1bhv.html#a388b8e9c13a4124f0f85b3661bd89f37">sum</a></span>            <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtb__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">  <span class="keywordflow">signal</span> <span class="vhdlchar"><a class="code" href="classtb__example2_1_1bhv.html#a5d1b07695d6ab17e645de16e5bf5f1ae">carry_out</a></span>      <span class="vhdlchar">:</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line"> </div>
<div class="line"><span class="vhdlkeyword">begin</span></div>
<div class="line"> </div>
<div class="line">  dut0 : <span class="keywordflow">entity</span> work.<a class="code" href="classdut__example.html">dut_example</a></div>
<div class="line">    <span class="keywordflow">generic</span> <span class="keywordflow">map</span> (</div>
<div class="line">      <a class="code" href="classdut__example.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a>           =&gt; <a class="code" href="classtb__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#a57444c79aa47d2854b6d8ac1cd24cc0d">G_DISABLE_BUGS</a>    =&gt; <a class="code" href="classtb__example2.html#ac96c2f9ed656335145b7b861130cd939">G_DISABLE_BUGS</a></div>
<div class="line">    <span class="vhdlchar">)</span></div>
<div class="line">    <span class="keywordflow">port</span> <span class="keywordflow">map</span> (</div>
<div class="line">      <a class="code" href="classdut__example.html#ae8d3e5458b0e3cd523d6461463e36fe8">clk_i</a>             =&gt; <a class="code" href="classtb__example2_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">clk</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#ab86c7a8eec3a8327e506892977f85708">rst_i</a>             =&gt; <a class="code" href="classtb__example2_1_1bhv.html#ab48fd8de36861a6c9099cb6a43508afa">rst</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#a6555780b799081e2f30567aa2267c4ad">carry_i</a>           =&gt; <a class="code" href="classtb__example2_1_1bhv.html#a9b1493f36b43e43f199d5514aad3c946">carry_in</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#a74e1eb7316514a25c11bd8b9226afcf8">x_i</a>               =&gt; <a class="code" href="classtb__example2_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#a262bf3ac9f72fc74df66c1e920f884e0">y_i</a>               =&gt; <a class="code" href="classtb__example2_1_1bhv.html#a70e68dd99e9bab52dfa4c3bddb370bc9">y</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#ac90adb73f41018def90d2b1cfa56465c">sum_o</a>             =&gt; <a class="code" href="classtb__example2_1_1bhv.html#a388b8e9c13a4124f0f85b3661bd89f37">sum</a>,</div>
<div class="line">      <a class="code" href="classdut__example.html#a62887f4668b43644ba72a4debb1f618c">carry_o</a>           =&gt; <a class="code" href="classtb__example2_1_1bhv.html#a5d1b07695d6ab17e645de16e5bf5f1ae">carry_out</a></div>
<div class="line">    <span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">  <a class="code" href="classtb__example2_1_1bhv.html#a27e5555299c85e4788d9ab27ae43f077">clkgen0</a> : <a class="code" href="classpltbutils__clkgen.html">pltbutils_clkgen</a></div>
<div class="line">    <span class="keywordflow">generic</span> <span class="keywordflow">map</span>(</div>
<div class="line">      <a class="code" href="classpltbutils__clkgen.html#adbf8952b6b4cd64a36b8cc71101d8fe4">G_PERIOD</a>          =&gt; <a class="code" href="classtb__example2.html#a66dfd6a1fb98eee0a6c1d04df77757ce">G_CLK_PERIOD</a></div>
<div class="line">    <span class="vhdlchar">)</span></div>
<div class="line">    <span class="keywordflow">port</span> <span class="keywordflow">map</span>(</div>
<div class="line">      <a class="code" href="classpltbutils__clkgen.html#a4361aad7a5ee44ae149501699b912d30">clk_o</a>             =&gt; <a class="code" href="classtb__example2_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">clk</a>,</div>
<div class="line">      <a class="code" href="classpltbutils__clkgen.html#a845c8ecbf840431d25fb75580abe9746">stop_sim_i</a>        =&gt; pltbs.stop_sim</div>
<div class="line">    <span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">  tc0 : <span class="keywordflow">entity</span> work.<a class="code" href="classtc__example2.html">tc_example2</a></div>
<div class="line">    <span class="keywordflow">generic</span> <span class="keywordflow">map</span> (</div>
<div class="line">      <a class="code" href="classtc__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a>           =&gt; <a class="code" href="classtb__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a>,</div>
<div class="line">      <a class="code" href="classtc__example2.html#ac96c2f9ed656335145b7b861130cd939">G_DISABLE_BUGS</a>    =&gt; <a class="code" href="classtb__example2.html#ac96c2f9ed656335145b7b861130cd939">G_DISABLE_BUGS</a></div>
<div class="line">    <span class="vhdlchar">)</span></div>
<div class="line">    <span class="keywordflow">port</span> <span class="keywordflow">map</span>(</div>
<div class="line">      <a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a>             =&gt; <a class="code" href="classtb__example2_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">pltbs</a>,</div>
<div class="line">      <a class="code" href="classtc__example2.html#a50da91b765765ac486df1b41692e962f">clk</a>               =&gt; <a class="code" href="classtb__example2_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">clk</a>,</div>
<div class="line">      <a class="code" href="classtc__example2.html#a352387ac1c11448edf5830e9b3408485">rst</a>               =&gt; <a class="code" href="classtb__example2_1_1bhv.html#ab48fd8de36861a6c9099cb6a43508afa">rst</a>,</div>
<div class="line">      <a class="code" href="classtc__example2.html#a3e3b087cfa7a9662858d1e0834779713">carry_in</a>          =&gt; <a class="code" href="classtb__example2_1_1bhv.html#a9b1493f36b43e43f199d5514aad3c946">carry_in</a>,</div>
<div class="line">      <a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a>                 =&gt; <a class="code" href="classtb__example2_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">x</a>,</div>
<div class="line">      <a class="code" href="classtc__example2.html#a9df30f532a9df0ce4c7653558c77c68b">y</a>                 =&gt; <a class="code" href="classtb__example2_1_1bhv.html#a70e68dd99e9bab52dfa4c3bddb370bc9">y</a>,</div>
<div class="line">      <a class="code" href="classtc__example2.html#a94d081002e29147d9789b7625bfbe13c">sum</a>               =&gt; <a class="code" href="classtb__example2_1_1bhv.html#a388b8e9c13a4124f0f85b3661bd89f37">sum</a>,</div>
<div class="line">      <a class="code" href="classtc__example2.html#a4bdb96b44e6289f5aaa2b6924328f90a">carry_out</a>         =&gt; <a class="code" href="classtb__example2_1_1bhv.html#a5d1b07695d6ab17e645de16e5bf5f1ae">carry_out</a></div>
<div class="line">    <span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">end</span> <span class="keywordflow">architecture</span> <a class="code" href="classtb__example2_1_1bhv.html">bhv</a>;</div>
<div class="ttc" id="aclasstb__example2_1_1bhv_html"><div class="ttname"><a href="classtb__example2_1_1bhv.html">tb_example2.bhv</a></div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00050">tb_example2.vhd:50</a></div></div>
<div class="ttc" id="aclasstb__example2_1_1bhv_html_a1bc5c1a0be5baa1956f86292646908ad"><div class="ttname"><a href="classtb__example2_1_1bhv.html#a1bc5c1a0be5baa1956f86292646908ad">tb_example2.bhv.clk</a></div><div class="ttdeci">std_logic clk</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00057">tb_example2.vhd:57</a></div></div>
<div class="ttc" id="aclasstb__example2_1_1bhv_html_a27e5555299c85e4788d9ab27ae43f077"><div class="ttname"><a href="classtb__example2_1_1bhv.html#a27e5555299c85e4788d9ab27ae43f077">clkgen0</a></div><div class="ttdeci">pltbutils_clkgen clkgen0clkgen0</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00089">tb_example2.vhd:89</a></div></div>
<div class="ttc" id="aclasstb__example2_1_1bhv_html_a388b8e9c13a4124f0f85b3661bd89f37"><div class="ttname"><a href="classtb__example2_1_1bhv.html#a388b8e9c13a4124f0f85b3661bd89f37">tb_example2.bhv.sum</a></div><div class="ttdeci">std_logic_vector(   G_WIDTH- 1 downto  0) sum</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00062">tb_example2.vhd:62</a></div></div>
<div class="ttc" id="aclasstb__example2_1_1bhv_html_a5d1b07695d6ab17e645de16e5bf5f1ae"><div class="ttname"><a href="classtb__example2_1_1bhv.html#a5d1b07695d6ab17e645de16e5bf5f1ae">tb_example2.bhv.carry_out</a></div><div class="ttdeci">std_logic carry_out</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00063">tb_example2.vhd:63</a></div></div>
<div class="ttc" id="aclasstb__example2_1_1bhv_html_a70e68dd99e9bab52dfa4c3bddb370bc9"><div class="ttname"><a href="classtb__example2_1_1bhv.html#a70e68dd99e9bab52dfa4c3bddb370bc9">tb_example2.bhv.y</a></div><div class="ttdeci">std_logic_vector(   G_WIDTH- 1 downto  0) y</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00061">tb_example2.vhd:61</a></div></div>
<div class="ttc" id="aclasstb__example2_1_1bhv_html_a9b1493f36b43e43f199d5514aad3c946"><div class="ttname"><a href="classtb__example2_1_1bhv.html#a9b1493f36b43e43f199d5514aad3c946">tb_example2.bhv.carry_in</a></div><div class="ttdeci">std_logic carry_in</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00059">tb_example2.vhd:59</a></div></div>
<div class="ttc" id="aclasstb__example2_1_1bhv_html_aaad491fafb00bd3f2eee8cc0de052dbb"><div class="ttname"><a href="classtb__example2_1_1bhv.html#aaad491fafb00bd3f2eee8cc0de052dbb">tb_example2.bhv.pltbs</a></div><div class="ttdeci">pltbs_t :=   C_PLTBS_INIT pltbs</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00054">tb_example2.vhd:54</a></div></div>
<div class="ttc" id="aclasstb__example2_1_1bhv_html_ab48fd8de36861a6c9099cb6a43508afa"><div class="ttname"><a href="classtb__example2_1_1bhv.html#ab48fd8de36861a6c9099cb6a43508afa">tb_example2.bhv.rst</a></div><div class="ttdeci">std_logic rst</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00058">tb_example2.vhd:58</a></div></div>
<div class="ttc" id="aclasstb__example2_1_1bhv_html_adad9fdabcb16d6868ba56a9004f85e75"><div class="ttname"><a href="classtb__example2_1_1bhv.html#adad9fdabcb16d6868ba56a9004f85e75">tb_example2.bhv.x</a></div><div class="ttdeci">std_logic_vector(   G_WIDTH- 1 downto  0) x</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00060">tb_example2.vhd:60</a></div></div>
<div class="ttc" id="aclasstb__example2_html"><div class="ttname"><a href="classtb__example2.html">tb_example2</a></div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00042">tb_example2.vhd:42</a></div></div>
<div class="ttc" id="aclasstb__example2_html_a40f594af67d95f0eb6d8f59f8825136a"><div class="ttname"><a href="classtb__example2.html#a40f594af67d95f0eb6d8f59f8825136a">tb_example2.G_WIDTH</a></div><div class="ttdeci">G_WIDTH integer := 8</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00044">tb_example2.vhd:44</a></div></div>
<div class="ttc" id="aclasstb__example2_html_a66dfd6a1fb98eee0a6c1d04df77757ce"><div class="ttname"><a href="classtb__example2.html#a66dfd6a1fb98eee0a6c1d04df77757ce">tb_example2.G_CLK_PERIOD</a></div><div class="ttdeci">G_CLK_PERIOD time :=  10 ns</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00045">tb_example2.vhd:45</a></div></div>
<div class="ttc" id="aclasstb__example2_html_ac96c2f9ed656335145b7b861130cd939"><div class="ttname"><a href="classtb__example2.html#ac96c2f9ed656335145b7b861130cd939">tb_example2.G_DISABLE_BUGS</a></div><div class="ttdeci">G_DISABLE_BUGS integer  range  0 to  1:= 0</div><div class="ttdef"><b>Definition:</b> <a href="tb__example2_8vhd_source.html#l00047">tb_example2.vhd:47</a></div></div>
<div class="ttc" id="aclasstc__example2_html"><div class="ttname"><a href="classtc__example2.html">tc_example2</a></div><div class="ttdef"><b>Definition:</b> <a href="tc__example2_8vhd_source.html#l00041">tc_example2.vhd:41</a></div></div>
<div class="ttc" id="aclasstc__example2_html_a352387ac1c11448edf5830e9b3408485"><div class="ttname"><a href="classtc__example2.html#a352387ac1c11448edf5830e9b3408485">tc_example2.rst</a></div><div class="ttdeci">out rst std_logic </div><div class="ttdef"><b>Definition:</b> <a href="tc__example2_8vhd_source.html#l00049">tc_example2.vhd:49</a></div></div>
<div class="ttc" id="aclasstc__example2_html_a3e3b087cfa7a9662858d1e0834779713"><div class="ttname"><a href="classtc__example2.html#a3e3b087cfa7a9662858d1e0834779713">tc_example2.carry_in</a></div><div class="ttdeci">out carry_in std_logic </div><div class="ttdef"><b>Definition:</b> <a href="tc__example2_8vhd_source.html#l00050">tc_example2.vhd:50</a></div></div>
<div class="ttc" id="aclasstc__example2_html_a40f594af67d95f0eb6d8f59f8825136a"><div class="ttname"><a href="classtc__example2.html#a40f594af67d95f0eb6d8f59f8825136a">tc_example2.G_WIDTH</a></div><div class="ttdeci">G_WIDTH integer := 8</div><div class="ttdef"><b>Definition:</b> <a href="tc__example2_8vhd_source.html#l00043">tc_example2.vhd:43</a></div></div>
<div class="ttc" id="aclasstc__example2_html_a4bdb96b44e6289f5aaa2b6924328f90a"><div class="ttname"><a href="classtc__example2.html#a4bdb96b44e6289f5aaa2b6924328f90a">tc_example2.carry_out</a></div><div class="ttdeci">in carry_out std_logic </div><div class="ttdef"><b>Definition:</b> <a href="tc__example2_8vhd_source.html#l00055">tc_example2.vhd:55</a></div></div>
<div class="ttc" id="aclasstc__example2_html_a50da91b765765ac486df1b41692e962f"><div class="ttname"><a href="classtc__example2.html#a50da91b765765ac486df1b41692e962f">tc_example2.clk</a></div><div class="ttdeci">in clk std_logic </div><div class="ttdef"><b>Definition:</b> <a href="tc__example2_8vhd_source.html#l00048">tc_example2.vhd:48</a></div></div>
<div class="ttc" id="aclasstc__example2_html_a5a3729a52e1b93be7e1550805b9dcfa9"><div class="ttname"><a href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">tc_example2.pltbs</a></div><div class="ttdeci">out pltbs pltbs_t </div><div class="ttdef"><b>Definition:</b> <a href="tc__example2_8vhd_source.html#l00047">tc_example2.vhd:47</a></div></div>
<div class="ttc" id="aclasstc__example2_html_a94d081002e29147d9789b7625bfbe13c"><div class="ttname"><a href="classtc__example2.html#a94d081002e29147d9789b7625bfbe13c">tc_example2.sum</a></div><div class="ttdeci">in sum std_logic_vector(   G_WIDTH- 1 downto  0) </div><div class="ttdef"><b>Definition:</b> <a href="tc__example2_8vhd_source.html#l00053">tc_example2.vhd:53</a></div></div>
<div class="ttc" id="aclasstc__example2_html_a9df30f532a9df0ce4c7653558c77c68b"><div class="ttname"><a href="classtc__example2.html#a9df30f532a9df0ce4c7653558c77c68b">tc_example2.y</a></div><div class="ttdeci">out y std_logic_vector(   G_WIDTH- 1 downto  0) </div><div class="ttdef"><b>Definition:</b> <a href="tc__example2_8vhd_source.html#l00052">tc_example2.vhd:52</a></div></div>
<div class="ttc" id="aclasstc__example2_html_ac96c2f9ed656335145b7b861130cd939"><div class="ttname"><a href="classtc__example2.html#ac96c2f9ed656335145b7b861130cd939">tc_example2.G_DISABLE_BUGS</a></div><div class="ttdeci">G_DISABLE_BUGS integer  range  0 to  1:= 0</div><div class="ttdef"><b>Definition:</b> <a href="tc__example2_8vhd_source.html#l00045">tc_example2.vhd:45</a></div></div>
<div class="ttc" id="aclasstc__example2_html_afac68546c9ed9205bdedf8ab77c3e336"><div class="ttname"><a href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">tc_example2.x</a></div><div class="ttdeci">out x std_logic_vector(   G_WIDTH- 1 downto  0) </div><div class="ttdef"><b>Definition:</b> <a href="tc__example2_8vhd_source.html#l00051">tc_example2.vhd:51</a></div></div>
</div><!-- fragment --><p>Instead of a testcase process, we instantiate a testcase component (<a class="el" href="classtc__example2.html">tc_example2</a>). This testcase component has an entity defined in one file, and the architecture defined in another file. This makes it possible to have several different testcases for the same testbench. Just compile the testcase architecture that you want to use for a specific simulation run.</p>
<p>The entity declaration for the testcase looks as follows.</p>
<div class="fragment"><div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="vhdlkeyword">library </span><span class="keywordflow">ieee</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>ieee.std_logic_1164.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classpltbutils__func__pkg.html">pltbutils_func_pkg</a>.<span class="keywordflow">all</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">entity </span><a class="code" href="classtc__example2.html">tc_example2</a> <span class="keywordflow">is</span></div>
<div class="line">  <span class="keywordflow">generic</span> <span class="vhdlchar">(</span></div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span>         <span class="vhdlchar">:</span> <span class="keywordtype">integer</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">8</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#ac96c2f9ed656335145b7b861130cd939">G_DISABLE_BUGS</a></span>  <span class="vhdlchar">:</span> <span class="keywordtype">integer</span> <span class="keywordflow">range</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span> <span class="keywordflow">to</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span></div>
<div class="line">  <span class="vhdlchar">)</span>;</div>
<div class="line">  <span class="keywordflow">port</span> <span class="vhdlchar">(</span></div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span>           <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="vhdlchar">pltbs_t</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a50da91b765765ac486df1b41692e962f">clk</a></span>             <span class="vhdlchar">:</span> <span class="keywordflow">in</span>  <span class="keywordtype">std_logic</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a352387ac1c11448edf5830e9b3408485">rst</a></span>             <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a3e3b087cfa7a9662858d1e0834779713">carry_in</a></span>        <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a></span>               <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtc__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a9df30f532a9df0ce4c7653558c77c68b">y</a></span>               <span class="vhdlchar">:</span> <span class="keywordflow">out</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtc__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a94d081002e29147d9789b7625bfbe13c">sum</a></span>             <span class="vhdlchar">:</span> <span class="keywordflow">in</span>  <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtc__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="keywordflow">downto</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a4bdb96b44e6289f5aaa2b6924328f90a">carry_out</a></span>       <span class="vhdlchar">:</span> <span class="keywordflow">in</span>  <span class="keywordtype">std_logic</span></div>
<div class="line">  <span class="vhdlchar">)</span>;</div>
<div class="line"><span class="keywordflow">end</span> <span class="keywordflow">entity</span> <a class="code" href="classtc__example2.html">tc_example2</a>;</div>
</div><!-- fragment --><p>The ports of the testcase components are the same as for the DUT, but the mode (direction) of the ports are the opposite, so the testcase component can drive the inputs of the DUT, and detect the values of the output of the DUT. The only exception to this rule is the clock, which is an input, just as for the DUT.</p>
<p>There is also an output port for pltbs, because pltbs is driven from the tc architecture.</p>
<p>The entity is stored in its' own file.</p>
<p>The architecture contains the testcase process. There can be several different architecture files. The architecture looks as follows.</p>
<div class="fragment"><div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="vhdlkeyword">library </span><span class="keywordflow">ieee</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>ieee.std_logic_1164.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>ieee.numeric_std.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classtxt__util.html">txt_util</a>.<span class="keywordflow">all</span>;</div>
<div class="line"><span class="vhdlkeyword">use </span>work.<a class="code" href="classpltbutils__func__pkg.html">pltbutils_func_pkg</a>.<span class="keywordflow">all</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">architecture</span> <a class="code" href="classtc__example2_1_1tc1.html">tc1</a> <span class="keywordflow">of</span> <a class="code" href="classtc__example2.html">tc_example2</a> <span class="keywordflow">is</span></div>
<div class="line"><span class="vhdlkeyword">begin</span></div>
<div class="line">  p_tc1 : <span class="keywordflow">process</span></div>
<div class="line">    <span class="keywordflow">variable</span> <span class="vhdlchar">pltbv</span>  <span class="vhdlchar">:</span> <span class="vhdlchar">pltbv_t</span> <span class="vhdlchar">:=</span> <span class="vhdlchar">C_PLTBV_INIT</span>;</div>
<div class="line"><span class="vhdlkeyword">  begin</span></div>
<div class="line">    <span class="vhdlchar">startsim</span><span class="vhdlchar">(</span><span class="keyword">&quot;tc1&quot;</span><span class="vhdlchar">,</span> <span class="keyword">&quot;&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a352387ac1c11448edf5830e9b3408485">rst</a></span>         <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a3e3b087cfa7a9662858d1e0834779713">carry_in</a></span>    <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a></span>           <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">(</span><span class="keywordflow">others</span> <span class="vhdlchar">=</span><span class="vhdlchar">&gt;</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a9df30f532a9df0ce4c7653558c77c68b">y</a></span>           <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">(</span><span class="keywordflow">others</span> <span class="vhdlchar">=</span><span class="vhdlchar">&gt;</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="vhdlchar">starttest</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">,</span> <span class="keyword">&quot;Reset test&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">waitclks</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a50da91b765765ac486df1b41692e962f">clk</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Sum during reset&quot;</span><span class="vhdlchar">,</span>       <span class="vhdlchar"><a class="code" href="classtc__example2.html#a94d081002e29147d9789b7625bfbe13c">sum</a></span><span class="vhdlchar">,</span>         <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Carry out during reset&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a4bdb96b44e6289f5aaa2b6924328f90a">carry_out</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a352387ac1c11448edf5830e9b3408485">rst</a></span>         <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar">endtest</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="vhdlchar">starttest</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="keyword">&quot;Simple sum test&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a3e3b087cfa7a9662858d1e0834779713">carry_in</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a9df30f532a9df0ce4c7653558c77c68b">y</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">waitclks</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a50da91b765765ac486df1b41692e962f">clk</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Sum&quot;</span><span class="vhdlchar">,</span>       <span class="vhdlchar"><a class="code" href="classtc__example2.html#a94d081002e29147d9789b7625bfbe13c">sum</a></span><span class="vhdlchar">,</span>         <span class="vhdllogic"></span><span class="vhdllogic">3</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Carry out&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a4bdb96b44e6289f5aaa2b6924328f90a">carry_out</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">endtest</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="vhdlchar">starttest</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">3</span><span class="vhdlchar">,</span> <span class="keyword">&quot;Simple carry in test&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">print</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtc__example2.html#ac96c2f9ed656335145b7b861130cd939">G_DISABLE_BUGS</a></span><span class="vhdlchar">=</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">,</span> <span class="keyword">&quot;Bug here somewhere&quot;</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a3e3b087cfa7a9662858d1e0834779713">carry_in</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a9df30f532a9df0ce4c7653558c77c68b">y</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">waitclks</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a50da91b765765ac486df1b41692e962f">clk</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Sum&quot;</span><span class="vhdlchar">,</span>       <span class="vhdlchar"><a class="code" href="classtc__example2.html#a94d081002e29147d9789b7625bfbe13c">sum</a></span><span class="vhdlchar">,</span>         <span class="vhdllogic"></span><span class="vhdllogic">4</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Carry out&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a4bdb96b44e6289f5aaa2b6924328f90a">carry_out</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">print</span><span class="vhdlchar">(</span><span class="vhdlchar"><a class="code" href="classtc__example2.html#ac96c2f9ed656335145b7b861130cd939">G_DISABLE_BUGS</a></span><span class="vhdlchar">=</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">,</span> <span class="keyword">&quot;&quot;</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">endtest</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="vhdlchar">starttest</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">4</span><span class="vhdlchar">,</span> <span class="keyword">&quot;Simple carry out test&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a3e3b087cfa7a9662858d1e0834779713">carry_in</a></span> <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">*</span><span class="vhdlchar">*</span><span class="vhdlchar"><a class="code" href="classtc__example2.html#a40f594af67d95f0eb6d8f59f8825136a">G_WIDTH</a></span><span class="vhdlchar">-</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar"><a class="code" href="classtc__example2.html#a9df30f532a9df0ce4c7653558c77c68b">y</a></span> <span class="vhdlchar">&lt;=</span> <span class="keywordtype">std_logic_vector</span><span class="vhdlchar">(</span><span class="vhdlchar">to_unsigned</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#afac68546c9ed9205bdedf8ab77c3e336">x</a></span><span class="vhdlchar">&#39;</span><span class="vhdlkeyword">length</span><span class="vhdlchar">)</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">waitclks</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a50da91b765765ac486df1b41692e962f">clk</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Sum&quot;</span><span class="vhdlchar">,</span>       <span class="vhdlchar"><a class="code" href="classtc__example2.html#a94d081002e29147d9789b7625bfbe13c">sum</a></span><span class="vhdlchar">,</span>         <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Carry out&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a4bdb96b44e6289f5aaa2b6924328f90a">carry_out</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="vhdlchar">endtest</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">)</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="vhdlchar">endsim</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar"><a class="code" href="classtc__example2.html#a5a3729a52e1b93be7e1550805b9dcfa9">pltbs</a></span><span class="vhdlchar">,</span> <span class="vhdlchar">true</span><span class="vhdlchar">)</span>;</div>
<div class="line">    <span class="keywordflow">wait</span>;</div>
<div class="line">  <span class="keywordflow">end</span> <span class="keywordflow">process</span> <span class="vhdlchar">p_tc1</span>;</div>
<div class="line"><span class="keywordflow">end</span> <span class="keywordflow">architecture</span> <a class="code" href="classtc__example2_1_1tc1.html">tc1</a>;</div>
<div class="ttc" id="aclasstc__example2_1_1tc1_html"><div class="ttname"><a href="classtc__example2_1_1tc1.html">tc_example2.tc1</a></div><div class="ttdef"><b>Definition:</b> <a href="examples_2vhdl_2tb__example2_2tc1_8vhd_source.html#l00046">tc1.vhd:46</a></div></div>
</div><!-- fragment --><p>Try this too in your simulator. The example testbench files are located in examples/vhdl/example2/. The files are listed in compile order in <a class="el" href="tb__example2__files_8lst.html">tb_example2_files.lst</a> .</p>
<p>If you are a ModelSim user, there are .do files available in sim/modelsim_tb_example2/run/ .\ To use them, start Start ModelSim, and in the ModelSim Gui select the menu item File-&gt;Change directory... . Navigate to the PlTbUtils directory sim/modelsim_tb_example2/run/ and click Ok. Then, in the transcript window, type</p>
<p><code>do run_tc1.do</code></p>
<p>Also try</p>
<p><code>do <a class="el" href="run__tc1__bugfixed_8do.html">run_tc1_bugfixed.do</a></code></p>
<p>Template files for this type of testbench is available in <a class="el" href="dir_f18bc5d2cc309339e584d6315871bcf5.html">templates/vhdl/template2</a>/</p>
<h1><a class="anchor" id="autotoc_md48"></a>
Skipping tests</h1>
<p>PlTbUtils lets you skip tests, if you want to. This is useful while debugging a failure in a test. You can save simulation time by skipping the tests before and after the failing test. It is also useful while developing a test to skip the tests before.</p>
<p>To skip a test, add generic G_SKIPTESTS to the testbench of type std_logic_vector.</p>
<div class="fragment"><div class="line"><span class="keywordflow">entity </span>tb_example1_skip <span class="keywordflow">is</span></div>
<div class="line">  <span class="keywordflow">generic</span> <span class="vhdlchar">(</span></div>
<div class="line">    <span class="vhdlchar">G_WIDTH</span>             <span class="vhdlchar">:</span> <span class="keywordtype">integer</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">8</span>;</div>
<div class="line">    <span class="vhdlchar">G_CLK_PERIOD</span>        <span class="vhdlchar">:</span> <span class="keywordtype">time</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">10</span> <span class="vhdlchar">ns</span>;</div>
<div class="line">    <span class="vhdlchar">G_DISABLE_BUGS</span>      <span class="vhdlchar">:</span> <span class="keywordtype">integer</span> <span class="keywordflow">range</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span> <span class="keywordflow">to</span> <span class="vhdllogic"></span><span class="vhdllogic">1</span> <span class="vhdlchar">:=</span> <span class="vhdllogic"></span><span class="vhdllogic">0</span>;</div>
<div class="line">    <span class="vhdlchar">G_SKIPTESTS</span>         <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span> <span class="vhdlchar">:=</span> <span class="vhdlchar">(</span></div>
<div class="line">                          <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">,</span><span class="comment"> -- Dummy</span></div>
<div class="line">                          <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">,</span><span class="comment"> -- Test 1</span></div>
<div class="line">                          <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="comment">  -- Test 2</span></div>
<div class="line"><span class="comment">                               -- ... etc</span></div>
<div class="line">                          <span class="vhdlchar">)</span></div>
<div class="line"><span class="keywordflow">end</span> <span class="keywordflow">entity</span> tb_example1_skip;</div>
</div><!-- fragment --><p>If a bit in the vector is '1', the corresponding test is skipped. Bits are counted from 0 and upwards. There is usually no test with number 0, so bit 0 is usually a dummy. The length of the vector does not have to match the number of tests. If the vector is shorter, the remaining tests will not be skipped. If the vector is longer, the excessive bits will be ignored.</p>
<p>Feed this generic as the second argument of startsim().</p>
<p><code>startsim("tc1", G_SKIPTESTS, pltbv, pltbs);</code></p>
<p>For each test, add an if-clause that calls is_test_active(pltbv) and executes or skips the test.</p>
<div class="fragment"><div class="line"><span class="vhdlchar">starttest</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">1</span><span class="vhdlchar">,</span> <span class="keyword">&quot;Reset test&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbs</span><span class="vhdlchar">)</span>;</div>
<div class="line"><span class="keywordflow">if</span> <span class="vhdlchar">is_test_active</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">)</span> <span class="keywordflow">then</span></div>
<div class="line">  <span class="vhdlchar">waitclks</span><span class="vhdlchar">(</span><span class="vhdllogic"></span><span class="vhdllogic">2</span><span class="vhdlchar">,</span> <span class="vhdlchar">clk</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbs</span><span class="vhdlchar">)</span>;</div>
<div class="line">  <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Sum during reset&quot;</span><span class="vhdlchar">,</span>       <span class="vhdlchar">sum</span><span class="vhdlchar">,</span>         <span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbs</span><span class="vhdlchar">)</span>;</div>
<div class="line">  <span class="vhdlchar">check</span><span class="vhdlchar">(</span><span class="keyword">&quot;Carry out during reset&quot;</span><span class="vhdlchar">,</span> <span class="vhdlchar">carry_out</span><span class="vhdlchar">,</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbs</span><span class="vhdlchar">)</span>;</div>
<div class="line">  <span class="vhdlchar">rst</span>         <span class="vhdlchar">&lt;=</span> <span class="vhdlchar">&#39;</span><span class="vhdllogic"></span><span class="vhdllogic">0</span><span class="vhdlchar">&#39;</span>;</div>
<div class="line"><span class="keywordflow">end</span> <span class="keywordflow">if</span>;<span class="comment"> -- is_test_active()</span></div>
<div class="line"><span class="vhdlchar">endtest</span><span class="vhdlchar">(</span><span class="vhdlchar">pltbv</span><span class="vhdlchar">,</span> <span class="vhdlchar">pltbs</span><span class="vhdlchar">)</span>;</div>
</div><!-- fragment --><p>If is_test_active(pltbv) returns true, the test will be executed as usual. If it returns false, PlTbUtils outputs a message like the following, and skips the test.</p>
<p>Skipping Test 1: Reset test</p>
<p>Note that if you forget the if-clause, the "skipping test message" will be displayed, but the test will be executed anyway. If a check() procedure is called within a skipped test (if there is no if-clause), an error message will be displayed, and the error counter will be incremented.</p>
<p>The skip functionality is included in the templates in <a class="el" href="dir_de3c39578b6cba41d12670d7873c35ee.html">templates/vhdl/template1</a>/ and <a class="el" href="dir_f18bc5d2cc309339e584d6315871bcf5.html">templates/vhdl/template2</a>/ .</p>
<p>It is of course also possible to define the generic in the following form:</p>
<div class="fragment"><div class="line"><span class="vhdlchar">G_SKIPTESTS</span> <span class="vhdlchar">:</span> <span class="keywordtype">std_logic_vector</span> <span class="vhdlchar">:=</span> <span class="vhdllogic">&quot;001&quot;</span>;</div>
</div><!-- fragment --><p>This is more compact as it uses only a single line, but it is not possible to add individual comments for each test.</p>
<h1><a class="anchor" id="autotoc_md49"></a>
User Configuration</h1>
<p>It is possible to configure some aspects of PlTbUtils's behaviour, by modifying the package file <a class="el" href="pltbutils__user__cfg__pkg_8vhd.html" title="This file defines the user&#39;s customizations.">pltbutils_user_cfg_pkg.vhd</a></p>
<p>It is recommended NOT to modify the file directly. Instead, copy it to another directory and modify the copy. Make the simulator read the modified copy instead of the original. This makes it easier to update pltbutils to a later version without destroying the modifications. After updating, check if anything has changed in the file, and change your modified copy accordingly.</p>
<p>If your simulation environment (scripts, etc) uses the file <a class="el" href="pltbutils__files_8lst.html">pltbutils_files.lst</a> , then copy it too, to the other directory. Modify the contents of the file, by modifying the relative paths to point to the files from the new location.</p>
<h1><a class="anchor" id="autotoc_md50"></a>
Configuring Simulation Halt</h1>
<p>When calling <code>endsim</code>, the signal stop_sim is set to '1'. When set, all clock generators etc in the testbench and the DUT should stop, so there will be no further events in the simulation. The simulator will detect that nothing more will happen, and stops the simulation.</p>
<p>In some cases, it is not possible to stop clock generators, PLL models etc. In that case, <code>endsim</code> can force a simulaton halt, by setting the force argument to true.</p>
<p>The declaration of <code>endsim</code> is</p>
<div class="fragment"><div class="line"><span class="keywordflow">procedure</span> endsim(</div>
<div class="line">    <span class="keywordflow">signal</span> pltbutils_sc : <span class="keywordflow">out</span> pltbutils_sc_t;</div>
<div class="line">    <span class="keywordflow">constant</span> show_success_fail : <span class="keywordflow">in</span> <span class="keywordtype">boolean</span> := false;</div>
<div class="line">    <span class="keywordflow">constant</span> <span class="keywordflow">force</span> : <span class="keywordflow">in</span> <span class="keywordtype">boolean</span> := false</div>
<div class="line">);</div>
</div><!-- fragment --><p>so to force a simulation halt, call <code>endsim</code> with</p>
<p><code>endsim(pltbutils_sc, true, true);</code></p>
<p>This stops the simulation using an assert-failure. This works in all versions of VHDL, but it is an ugly way of doing it, since it outputs a failure message for something which isn't a failure.</p>
<p>You can change the way the simulation stops when the force flag is set in your copy of <a class="el" href="pltbutils__user__cfg__pkg_8vhd.html" title="This file defines the user&#39;s customizations.">pltbutils_user_cfg_pkg.vhd</a>.</p>
<p>Change the constant C_PLTBUTILS_USE_CUSTOM_STOPSIM to true, and modify the behavior of the procedure <a class="el" href="classpltbutils__user__cfg__pkg.html#a91bf2e5901ad735f8848a7a916f1b8da">custom_stopsim</a>. In VHDL-2008 the new keywords stop and finish was introduced. Try one of them, if your simulator supports them.</p>
<h1><a class="anchor" id="autotoc_md51"></a>
Configuring Messages for Integration Environments</h1>
<p>It is possible adapt the status messages to suit various continous integration environments, e.g. TeamCity, by specifying what the messages should look like.</p>
<p>You can create your own messages printed when starting and stopping a simulation, starting and stopping a test, for checking, etc.</p>
<p>In your copy of <a class="el" href="pltbutils__user__cfg__pkg_8vhd.html" title="This file defines the user&#39;s customizations.">pltbutils_user_cfg_pkg.vhd</a>, set one or more of the message constants to true, and modify the associated procedure.</p>
<p>The constants are</p>
<ul>
<li>C_PLTBUTILS_USE_CUSTOM_STARTSIM_MSG</li>
<li>C_PLTBUTILS_USE_CUSTOM_ENDSIM_MSG</li>
<li>C_PLTBUTILS_USE_CUSTOM_STARTTEST_MSG</li>
<li>C_PLTBUTILS_USE_CUSTOM_ENDTEST_MSG</li>
<li>C_PLTBUTILS_USE_CUSTOM_CHECK_MSG</li>
<li>C_PLTBUTILS_USE_CUSTOM_ERROR_MSG</li>
</ul>
<p>The corresponding procedures already contain examples for TeamCity. Modify if you use another environment.</p>
<p>You can disable the standard messages by setting the standard constants to false (C_PLTBUTILS_USE_STD_STARTSIM_MSG etc).</p>
<h1><a class="anchor" id="autotoc_md52"></a>
Differences between simulators</h1>
<p>Text strings (TestName and Info text) in the waveform window look different in different simulators. In ModelSim strings look like this: Example text. In ISim it looks like this: 'E','x','a','m','p','l','e',' ','t','e','x','t'.</p>
<h1><a class="anchor" id="autotoc_md53"></a>
See also</h1>
<ul>
<li><a class="el" href="classtxt__util.html" title="Defines useful functions an procedures for text handling text in VHDL.">txt_util</a></li>
<li><a class="el" href="classpltbutils__func__pkg.html" title="This package defines fuctions and procedures for controlling stimuli to a DUT and checking response.">pltbutils_func_pkg</a></li>
<li><a class="el" href="classpltbutils__clkgen.html" title="Creates a clock for use in a testbench.">pltbutils_clkgen</a></li>
<li><a class="el" href="classpltbutils__user__cfg__pkg.html" title="PlTbUtils User Configuration Package: User&#39;s function and procedure declarations.">pltbutils_user_cfg_pkg</a></li>
<li><a class="el" href="md_doc_reference.html">Reference</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
